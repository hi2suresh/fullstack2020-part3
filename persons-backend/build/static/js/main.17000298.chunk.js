(this.webpackJsonptest2=this.webpackJsonptest2||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=t(3),l=t.n(c),i=t(2),s=function(e){var n=e.onHandleAdd,t=e.onNameChange,a=e.onNumberChange,o=e.newName,u=e.newNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:o})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a,value:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m="api/persons",f=function(){return l.a.get(m).then((function(e){return e.data}))},d=function(e){return l.a.post(m,e).then((function(e){return e.data}))},h=function(e){return l.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},b=function(e){var n=e.showThesePersons,t=e.setPersons;return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{key:e.id,onClick:function(){return n=e.id,a=e.name,console.log(n),void(window.confirm("Do you really want to delete ".concat(a,"?"))&&h(n).then((function(e){console.log(e),f().then((function(e){t(e)}))})));var n,a}},"delete")," ")})))},g=function(e){var n=e.onFilterChange,t=e.filterValue;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:n,value:t}))},v=function(e){var n=e.message;if(0===n.length)return null;var t=n.toLowerCase().includes("add");return r.a.createElement("div",{className:t?"note":"error"},n)},E=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1];Object(a.useEffect)((function(){f().then((function(e){o(e)}))}),[]);var u=Object(a.useState)(!0),c=Object(i.a)(u,2),l=c[0],m=c[1],h=Object(a.useState)(""),E=Object(i.a)(h,2),p=E[0],w=E[1],C=Object(a.useState)(""),j=Object(i.a)(C,2),O=j[0],N=j[1],k=Object(a.useState)(""),S=Object(i.a)(k,2),y=S[0],P=S[1],T=Object(a.useState)(""),A=Object(i.a)(T,2),B=A[0],F=A[1],I=l?t:t.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{message:O}),r.a.createElement(g,{onFilterChange:function(e){w(e.target.value),m(!1)},filterValue:p}),r.a.createElement("h2",null,"Add a new Name and Number"),r.a.createElement(s,{onHandleAdd:function(e){e.preventDefault();var n={name:y,number:B};d(n).then((function(e){console.log("In Then Block"),console.log(t),o(t.concat(e)),N("Added ".concat(n.name)),I=t,setTimeout((function(){N("")}),3e3)})).catch((function(e){console.log("In Catch Block"),console.log(e.response.data),N(e.response.data.error),setTimeout((function(){N("")}),3e3)})),f().then((function(e){o(e)})),P(""),F(""),m(!0)},onNameChange:function(e){P(e.target.value)},onNumberChange:function(e){return F(e.target.value)},newName:y,newNumber:B}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(b,{showThesePersons:I,setPersons:o}))};t(36);u.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.17000298.chunk.js.map